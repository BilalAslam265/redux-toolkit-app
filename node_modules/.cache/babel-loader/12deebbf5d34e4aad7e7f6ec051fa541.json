{"ast":null,"code":"const {\n  createSlice\n} = require(\"@reduxjs/toolkit\");\n\nexport const STATUSES = Object.freeze({\n  IDLE: \"idle\",\n  ERROR: \"error\",\n  LOADING: \"loading\"\n});\nconst productSlice = createSlice({\n  name: \"product\",\n  initialState: {\n    data: [],\n    status: STATUSES.IDLE\n  },\n  reducers: {\n    setProducts(state, action) {\n      state.data = action.payload;\n    },\n\n    setStatus(state, action) {\n      state.status = action.payload;\n    },\n\n    add(state, action) {\n      state.push(action.payload);\n    },\n\n    remove(state, action) {\n      state = state.filter(item => item.id !== action.payload);\n    }\n\n  }\n});\nexport const {\n  setProducts,\n  setStatus\n} = productSlice.actions;\nexport default productSlice.reducer; // Thunks\n\nexport function fetchProducts() {\n  return async function fetchProductsThunk(dispatch, getState) {\n    // getState is used to get any current state from store and use as a parameter in thunk\n    dispatch(setStatus(STATUSES.LOADING));\n\n    try {\n      const response = await fetch('https://fakestoreapi.com/products');\n      const data = await response.json();\n      console.log(data);\n      dispatch(setProducts(data));\n      dispatch(setStatus(STATUSES.IDLE));\n    } catch (error) {\n      console.log(error);\n      dispatch(setStatus(STATUSES.ERROR));\n    }\n  };\n}","map":{"version":3,"names":["createSlice","require","STATUSES","Object","freeze","IDLE","ERROR","LOADING","productSlice","name","initialState","data","status","reducers","setProducts","state","action","payload","setStatus","add","push","remove","filter","item","id","actions","reducer","fetchProducts","fetchProductsThunk","dispatch","getState","response","fetch","json","console","log","error"],"sources":["/home/bilal/redux/src/store/productSlice.js"],"sourcesContent":["const { createSlice } = require(\"@reduxjs/toolkit\")\n\nexport const STATUSES = Object.freeze({\n    IDLE: \"idle\",\n    ERROR: \"error\",\n    LOADING: \"loading\",\n})\n\nconst productSlice = createSlice({\n    name: \"product\",\n    initialState : {\n        data: [],\n        status: STATUSES.IDLE\n    },\n\n    reducers: {\n        setProducts(state, action){\n            state.data = action.payload\n        },\n        setStatus(state, action){\n            state.status = action.payload\n        },\n        add(state, action){\n            state.push(action.payload);\n        },\n        remove(state, action){\n            state = state.filter(item => item.id !== action.payload)\n        },\n    }\n})\n\nexport const {setProducts, setStatus} = productSlice.actions;\nexport default productSlice.reducer;\n\n// Thunks\nexport function fetchProducts(){\n    return async function fetchProductsThunk(dispatch, getState){\n        // getState is used to get any current state from store and use as a parameter in thunk\n        dispatch(setStatus(STATUSES.LOADING))\n        try {\n            const response = await fetch('https://fakestoreapi.com/products')\n            const data = await response.json()\n            console.log(data);\n            dispatch((setProducts(data)))\n            dispatch(setStatus(STATUSES.IDLE))\n        } catch (error) {\n            console.log(error);\n            dispatch(setStatus(STATUSES.ERROR))\n        }\n    }\n}"],"mappings":"AAAA,MAAM;EAAEA;AAAF,IAAkBC,OAAO,CAAC,kBAAD,CAA/B;;AAEA,OAAO,MAAMC,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAc;EAClCC,IAAI,EAAE,MAD4B;EAElCC,KAAK,EAAE,OAF2B;EAGlCC,OAAO,EAAE;AAHyB,CAAd,CAAjB;AAMP,MAAMC,YAAY,GAAGR,WAAW,CAAC;EAC7BS,IAAI,EAAE,SADuB;EAE7BC,YAAY,EAAG;IACXC,IAAI,EAAE,EADK;IAEXC,MAAM,EAAEV,QAAQ,CAACG;EAFN,CAFc;EAO7BQ,QAAQ,EAAE;IACNC,WAAW,CAACC,KAAD,EAAQC,MAAR,EAAe;MACtBD,KAAK,CAACJ,IAAN,GAAaK,MAAM,CAACC,OAApB;IACH,CAHK;;IAINC,SAAS,CAACH,KAAD,EAAQC,MAAR,EAAe;MACpBD,KAAK,CAACH,MAAN,GAAeI,MAAM,CAACC,OAAtB;IACH,CANK;;IAONE,GAAG,CAACJ,KAAD,EAAQC,MAAR,EAAe;MACdD,KAAK,CAACK,IAAN,CAAWJ,MAAM,CAACC,OAAlB;IACH,CATK;;IAUNI,MAAM,CAACN,KAAD,EAAQC,MAAR,EAAe;MACjBD,KAAK,GAAGA,KAAK,CAACO,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYR,MAAM,CAACC,OAAxC,CAAR;IACH;;EAZK;AAPmB,CAAD,CAAhC;AAuBA,OAAO,MAAM;EAACH,WAAD;EAAcI;AAAd,IAA2BV,YAAY,CAACiB,OAA9C;AACP,eAAejB,YAAY,CAACkB,OAA5B,C,CAEA;;AACA,OAAO,SAASC,aAAT,GAAwB;EAC3B,OAAO,eAAeC,kBAAf,CAAkCC,QAAlC,EAA4CC,QAA5C,EAAqD;IACxD;IACAD,QAAQ,CAACX,SAAS,CAAChB,QAAQ,CAACK,OAAV,CAAV,CAAR;;IACA,IAAI;MACA,MAAMwB,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAD,CAA5B;MACA,MAAMrB,IAAI,GAAG,MAAMoB,QAAQ,CAACE,IAAT,EAAnB;MACAC,OAAO,CAACC,GAAR,CAAYxB,IAAZ;MACAkB,QAAQ,CAAEf,WAAW,CAACH,IAAD,CAAb,CAAR;MACAkB,QAAQ,CAACX,SAAS,CAAChB,QAAQ,CAACG,IAAV,CAAV,CAAR;IACH,CAND,CAME,OAAO+B,KAAP,EAAc;MACZF,OAAO,CAACC,GAAR,CAAYC,KAAZ;MACAP,QAAQ,CAACX,SAAS,CAAChB,QAAQ,CAACI,KAAV,CAAV,CAAR;IACH;EACJ,CAbD;AAcH"},"metadata":{},"sourceType":"module"}